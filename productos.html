<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Winq - Productos</title>

    <link rel="stylesheet" href="reset.css" />
    <link rel="stylesheet" href="productos.css" /> <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Montserrat+Alternates:wght@900&family=Rubik+Distressed&display=swap" rel="stylesheet" />

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<body>
    <header>
        <div class="caja">
            <h1><img src="imagenes/logo-blanco.png" alt="Logo Winq" /></h1>
            <nav>
                <ul>
                    <li><a href="index.html">Inicio</a></li>
                    <li><a href="productos.html" class="active">Productos</a></li>
                    <li><a href="contacto.html">Contacto</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <section class="productos-section">
            <h2 class="titulo-principal">Nuestros Productos</h2>
            <p class="productos-intro">En Winq ofrecemos productos de alta calidad, cuidando siempre la efectividad de nuestro servicio.</p>

            <div class="productos-grid">
                <article class="producto-card"
                    data-nombre="LLaveros de candado"
                    data-descripcion="Innova con nuestros llaveros de candado que combinan seguridad con un dise√±o original. Ideales para asegurar tus pertenencias con un toque de estilo √∫nico."
                    data-caracteristicas="Material: Metal con cubierta de PVC y detalles en acr√≠lico; Dise√±o: Variedad de personajes y motivos coloridos; Mecanismo: Cierre de candado con llave; Tama√±o: Compacto y ligero, ideal para llevar contigo."
                    data-precio="Q16.00"
                    data-whatsapp-numero="+50253452672" data-email-contacto="winqwinq959@gmail.com"
                    data-imagenes="productos/candado.jpeg,productos/p1-1.jpeg,productos/p1-2.jpeg,productos/p1-3.jpeg,productos/p1-4.jpeg">
                    <img src="productos/candado.jpeg" alt="Llaveros de candado" />
                    <h3>LLavero de candado</h3>
                    <div class="producto-hover-info">
                        <p>Escoge tu dise√±o y nosotros hacemos el resto.</p>
                    </div>
                </article>

                <article class="producto-card"
                    data-nombre="Llaveros Inteligentes NFC"
                    data-descripcion="Innova con nuestros llaveros que utilizan tecnolog√≠a Near Field Communication (NFC) y c√≥digos QR para conectar el mundo f√≠sico con el digital. ¬°Personaliza tu estilo y comparte informaci√≥n al instante!"
                    data-caracteristicas="Material: Acr√≠lico de alta durabilidad y PVC; Colores: Amplia variedad de dise√±os y personalizaci√≥n; Tecnolog√≠a: Chip NFC integrado y c√≥digo QR; Resistencia: Agua y golpes leves para uso diario."
                    data-precio="Q37.00"
                    data-whatsapp-numero="+50253452672" data-email-contacto="winqwinq959@gmail.com"
                    data-imagenes="productos/p2.jpg,productos/p2-1.jpg">
                    <img src="productos/p2.jpg" alt="Llavero Inteligente NFC" />
                    <h3>Llaveros Inteligentes NFC</h3>
                    <div class="producto-hover-info">
                        <p>Conecta tu mundo al instante.</p>
                    </div>
                </article>

                <article class="producto-card"
                    data-nombre="Tazas Personalizadas"
                    data-descripcion="¬°Todo tipo de dise√±o a tu gusto! Perfectas para regalos o para empezar el d√≠a con estilo."
                    data-caracteristicas="Material: Cer√°mica de alta resistencia, Capacidad: 350ml (11oz), Personalizaci√≥n: foto, texto, logo; aptas para microondas y lavavajillas."
                    data-precio="Q80.00"
                    data-whatsapp-numero="+50253452672" data-email-contacto="ventas@winq.com"
                    data-proximamente="true"
                    data-imagenes="productos/trabajando.gif">
                    <img src="productos/taza.png" alt="Taza Personalizada" />
                    <h3>Tazas Personalizadas</h3>
                    <div class="producto-hover-info">
                        <p>Pr√≥ximamente...</p>
                    </div>
                </article>

                <article class="producto-card"
                    data-nombre="Playeras estampadas"
                    data-descripcion="Para diferentes gustos y con diferentes calidades. Dise√±os exclusivos que marcan tendencia."
                    data-caracteristicas="Material: Poli√©ster y algod√≥n de alta calidad, Tallas: S-XL, Estampados: dise√±os variados y personalizados bajo pedido. Acabado suave y resistente."
                    data-precio="Q150.00"
                    data-whatsapp-numero="+50253452672" data-email-contacto="winqwinq959@gmail.com"
                    data-proximamente="true"
                    data-imagenes="productos/trabajando.gif">
                    <img src="productos/halo.png" alt="Playera Estampada" />
                    <h3>Playeras Estampadas</h3>
                    <div class="producto-hover-info">
                        <p>Pr√≥ximamente...</p>
                    </div>
                </article>

                <article class="producto-card"
                    data-nombre="Stickers y posters"
                    data-descripcion="Haz realidad todo aquel sticker que desees üòä. Decora tus espacios y objetos con dise√±os √∫nicos."
                    data-caracteristicas="Material: Vinil brillante y papel fotogr√°fico mate. Tama√±os: A6, A5, A4, A3 y personalizados. Resistentes al agua (stickers). Impresi√≥n de alta resoluci√≥n."
                    data-precio="Q50.00 (stickers), Q150.00 (posters)"
                    data-whatsapp-numero="+50253452672" data-email-contacto="ventas@winq.com"
                    data-proximamente="true"
                    data-imagenes="productos/trabajando.gif">
                    <img src="productos/stickers.jpeg" alt="Stickers y Posters" />
                    <h3>Stickers y Posters</h3>
                    <div class="producto-hover-info">
                        <p>Pr√≥ximamente...</p>
                    </div>
                </article>

                <article class="producto-card"
                    data-nombre="Funda de Tel√©fono Personalizada"
                    data-descripcion="Protege tu Android con estilo y lleva a tu personaje favorito a todas partes."
                    data-caracteristicas="Material: Policarbonato resistente, Compatibilidad: Modelos de Android (especificar modelo al ordenar), Acabado: Brillante."
                    data-precio="Q120.00"
                    data-whatsapp-numero="+50253452672" data-email-contacto="ventas@winq.com"
                    data-proximamente="true"
                    data-imagenes="productos/funda.png">
                    <img src="productos/funda.png" alt="Funda de Tel√©fono Android" />
                    <h3>Funda de Tel√©fono Android BMO</h3>
                    <div class="producto-hover-info">
                        <p>Pr√≥ximamente...</p>
                    </div>
                </article>
            </div>
        </section>
    </main>

    <footer>
        <img src="imagenes/logo.png" alt="Logo Winq" />
        <p class="copyright">&copy; Copyright Winq - 2025</p>
    </footer>

     <div id="modal-producto" class="modal-producto">
        <div class="modal-contenido">
            <span class="modal-cerrar">&times;</span>
            <div class="modal-flex">
                <div class="modal-imagen-container">
                    <div class="carousel-container">
                        <button class="carousel-btn prev-btn">&lt;</button>
                        <div class="carousel-images"></div>
                        <button class="carousel-btn next-btn">&gt;</button>
                    </div>
                </div>
                <div class="modal-info">
                    <h2 id="modal-nombre"></h2>
                    <p class="modal-descripcion-texto" id="modal-descripcion"></p>
                    <p><strong>Caracter√≠sticas:</strong> <span id="modal-caracteristicas"></span></p>
                    <p><strong>Precio:</strong> <span id="modal-precio"></span></p>
                    <div class="modal-contacto-section">
                        <h3>¬øInteresado? ¬°Cont√°ctanos!</h3>
                        <p id="modal-email-contacto-display"></p>
                        <a href="#" id="whatsapp-button" class="whatsapp-btn" target="_blank">
                            <i class="fab fa-whatsapp"></i> Comprar / Preguntar por WhatsApp
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

  <div id="lightbox-imagen" class="lightbox-imagen">
    <span class="lightbox-cerrar">&times;</span>
    <img class="lightbox-contenido" id="img-lightbox" src="" alt="Imagen grande del producto">
    <div class="lightbox-caption" id="caption-lightbox"></div>
</div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Get references to modal and lightbox elements
            const modalNombre = document.getElementById('modal-nombre');
            const modalDescripcion = document.getElementById('modal-descripcion');
            const modalCaracteristicas = document.getElementById('modal-caracteristicas');
            const modalPrecio = document.getElementById('modal-precio');
            const modalImgContainer = document.querySelector('.modal-imagen-container .carousel-images');
            const whatsappButton = document.getElementById('whatsapp-button');
            const emailDisplay = document.getElementById('modal-email-contacto-display');
            const modalContactoSection = document.querySelector('.modal-contacto-section');
            const prevBtn = document.querySelector('.modal-producto .prev-btn');
            const nextBtn = document.querySelector('.modal-producto .next-btn');
            const modalProducto = document.getElementById('modal-producto');
            const modalCerrar = document.querySelector('.modal-cerrar');

            const lightbox = document.getElementById('lightbox-imagen');
            const lightboxImg = document.getElementById('img-lightbox');
            const lightboxCaption = document.getElementById('caption-lightbox');
            const lightboxCerrar = document.querySelector('.lightbox-cerrar');

            let currentImageIndex = 0;
            let productImages = []; // Stores image paths for the current product

            // Attach click event listener to each product card
            document.querySelectorAll('.producto-card').forEach(card => {
                card.addEventListener('click', function() {
                    const isProximamente = this.dataset.proximamente === 'true';

                    // Determine images for the carousel: use data-imagenes or the card's main image
                    let imagesData = this.dataset.imagenes;
                    if (imagesData) {
                        productImages = imagesData.split(',');
                    } else {
                        productImages = [this.querySelector('img').getAttribute('src')];
                    }

                    // Populate modal content based on 'proximamente' status
                    if (isProximamente) {
                        // For "coming soon" products, use specific placeholder content and hide contact info
                        productImages = [this.querySelector('img').getAttribute('src')]; // Ensures the 'working' image is shown
                        modalNombre.textContent = "¬°Producto Pr√≥ximamente!";
                        modalDescripcion.textContent = "Estamos trabajando arduamente en este incre√≠ble producto. ¬°Mantente atento para m√°s detalles!";
                        modalCaracteristicas.textContent = "Disponible pronto";
                        modalPrecio.textContent = "Consulta para m√°s informaci√≥n";
                        modalContactoSection.style.display = 'none';
                    } else {
                        // For available products, display full details and contact info
                        modalNombre.textContent = this.dataset.nombre;
                        modalDescripcion.textContent = this.dataset.descripcion;
                        modalCaracteristicas.textContent = this.dataset.caracteristicas;
                        modalPrecio.textContent = this.dataset.precio;
                        modalContactoSection.style.display = 'flex';

                        // Set up WhatsApp button link
                        const whatsappNumber = this.dataset.whatsappNumero || "+50253452672";
                        const productNameForWhatsapp = encodeURIComponent(this.dataset.nombre || 'el producto');
                        whatsappButton.href = `https://wa.me/${whatsappNumber.replace(/\+/g, '')}?text=Hola%2C%20me%20interesa%20${productNameForWhatsapp}.`;
                        whatsappButton.style.display = 'inline-flex';

                        // Display email if available
                        const emailContacto = this.dataset.emailContacto;
                        if (emailContacto) {
                            emailDisplay.textContent = `Email: ${emailContacto}`;
                            emailDisplay.style.display = 'block';
                        } else {
                            emailDisplay.style.display = 'none';
                        }
                    }

                    // --- Carousel Logic within Modal ---
                    modalImgContainer.innerHTML = ''; // Clear existing images
                    currentImageIndex = 0; // Reset carousel index

                    // Create and append image elements to the carousel
                    productImages.forEach((src, index) => {
                        const imgElement = document.createElement('img');
                        imgElement.src = src.trim();
                        imgElement.alt = `Imagen ${index + 1} de ${modalNombre.textContent}`;
                        imgElement.classList.add('carousel-item-img');
                        imgElement.dataset.originalSrc = src.trim(); // Store original source for lightbox
                        modalImgContainer.appendChild(imgElement);

                        // Attach click listener to each carousel image to open lightbox
                        imgElement.addEventListener('click', function(event) {
                            event.stopPropagation(); // Prevent modal closing when clicking image
                            lightbox.classList.add('is-active'); // Usa la clase para activar el lightbox
                            lightboxImg.src = this.dataset.originalSrc;
                            lightboxImg.alt = this.alt;
                            lightboxCaption.textContent = this.alt;
                        });
                    });

                    updateCarousel(); // Set initial carousel position

                    // Show/hide carousel navigation buttons based on image count
                    if (productImages.length > 1) {
                        prevBtn.style.display = 'block';
                        nextBtn.style.display = 'block';
                    } else {
                        prevBtn.style.display = 'none';
                        nextBtn.style.display = 'none';
                    }

                    // Display the modal with a slight delay for CSS transition
                    modalProducto.style.display = 'flex';
                    setTimeout(() => {
                        modalProducto.classList.add('is-active');
                    }, 10);
                });
            });

            // Function to update the carousel's visual position
            function updateCarousel() {
                const offset = -currentImageIndex * 100; // Scrolls by 100% of the image width
                modalImgContainer.style.transform = `translateX(${offset}%)`;
            }

            // Event listeners for carousel navigation buttons
            prevBtn.addEventListener('click', (event) => {
                event.stopPropagation();
                currentImageIndex = (currentImageIndex - 1 + productImages.length) % productImages.length;
                updateCarousel();
            });

            nextBtn.addEventListener('click', (event) => {
                event.stopPropagation();
                currentImageIndex = (currentImageIndex + 1) % productImages.length;
                updateCarousel();
            });

            // --- Lightbox Close Functionality ---
            lightboxCerrar.onclick = function() {
                lightbox.classList.remove('is-active'); // Usa la clase para desactivar el lightbox
            };

            lightbox.addEventListener('click', function(event) {
                if (event.target === lightbox) {
                    lightbox.classList.remove('is-active'); // Usa la clase para desactivar el lightbox
                }
            });

            // --- Modal Close Functionality ---
            modalCerrar.onclick = function() {
                modalProducto.classList.remove('is-active');
                // Despu√©s de que la transici√≥n CSS del modal haya terminado, oc√∫ltalo por completo.
                // Ajusta este valor si la duraci√≥n de tu transici√≥n CSS cambia.
                setTimeout(() => {
                    modalProducto.style.display = 'none';
                }, 300); 
            };

            // Close modal when clicking outside its content area
            window.onclick = function(event) {
                if (event.target === modalProducto) {
                    modalProducto.classList.remove('is-active');
                    // Despu√©s de que la transici√≥n CSS del modal haya terminado, oc√∫ltalo por completo.
                    setTimeout(() => {
                        modalProducto.style.display = 'none';
                    }, 300);
                }
            };
        });
    </script>
</body>

</html>